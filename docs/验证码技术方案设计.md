# 验证码

基于原来 yuancheng 里面用的那套验证码逻辑，我们进行了重构和优化。

## 原来的逻辑

主邮箱，辅手机。必须先使用邮箱注册，再绑定手机。

- 短信和邮箱都使用 code
- 手机使用 phone_temp，验证通过后转正为 phone
- 默认使用真实邮箱注册，并使用 activate 字段来标志邮箱是否已经验证

### 存在的问题

用户填写假邮箱，也能使用我们的服务。产生的垃圾数据，永远不会被发现清理。

用户必须先使用邮箱注册，不能直接使用手机注册。

## 优化后的逻辑

仅支持使用手机注册，绑定邮箱后，可用邮箱登录，但不能使用邮箱注册。

注册成功后，不能自动登录，需要手动登录。

> 如果需要不验证就开始使用的账号，那就开启用户名注册功能，比如：username