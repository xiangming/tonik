# 打赏技术方案设计

## out_trade_no 支付订单号设计

产品 ID + 日期（秒级） + 用户 ID + 4 位随机数字

比如：01.202311161426.1126.8979

设计原则：通过支付订单号可以快速获取到相关信息。

## 执行流程

生成支付二维码

支付完成后，生成打赏记录（CPT），关联支付订单编号

生成队列任务，用于自动打款

打款结果更新到打赏记录
